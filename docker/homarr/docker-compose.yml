networks:
  net:  
    ipam:
      config:
        - subnet: 198.19.4.0/24
          gateway: 198.19.4.1

volumes:
  appdata:

services:  
  homarr:
    container_name: homarr
    hostname: homarr
    image: ghcr.io/homarr-labs/homarr:latest
    ports:
      - 30420:7575
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock # Optional, only if you want docker integration
      - appdata:/appdata
    environment:
      - SECRET_ENCRYPTION_KEY=${SECRET_ENCRYPTION_KEY}
    networks:
      net:
        ipv4_address: 198.19.4.2
    healthcheck:
        test: ["CMD", "wget", "--spider", "--timeout=10", "http://198.19.4.2:7575"]
        interval: 30s
        timeout: 10s
        start_period: 10s
        retries: 3
    logging:
      driver: "json-file"
      options:
        max-size: "2m"
        max-file: "10"
    restart: unless-stopped
